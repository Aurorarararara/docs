import{_ as l,c as n,o as a,m as s,a as i}from"./chunks/framework.BS5Zd73-.js";const y=JSON.parse('{"title":"16. 文件操作","description":"","frontmatter":{},"headers":[],"relativePath":"study/C++/文件操作.md","filePath":"study/C++/文件操作.md","lastUpdated":null}'),t={name:"study/C++/文件操作.md"},h=s("div",null,[s("h1",{id:"_16-文件操作",tabindex:"-1"},[i("16. 文件操作 "),s("a",{class:"header-anchor",href:"#_16-文件操作","aria-label":'Permalink to "16. 文件操作"'},"​")]),s("p",null,"程序运行时产生的数据都属于临时数据，程序一旦运行结束都会被释放"),s("p",null,[i("通过"),s("strong",null,"文件可以将数据持久化")]),s("p",null,"C++中对文件操作需要包含头文件 ==< fstream >=="),s("p",null,"文件类型分为两种："),s("ol",null,[s("li",null,[s("strong",null,"文本文件"),i(" - 文件以文本的"),s("strong",null,"ASCII码"),i("形式存储在计算机中")]),s("li",null,[s("strong",null,"二进制文件"),i(" - 文件以文本的"),s("strong",null,"二进制"),i("形式存储在计算机中，用户一般不能直接读懂它们")])]),s("p",null,"操作文件的三大类:"),s("ol",null,[s("li",null,"ofstream：写操作"),s("li",null,"ifstream： 读操作"),s("li",null,"fstream ： 读写操作")]),s("h2",{id:"_16-1-文本文件",tabindex:"-1"},[i("16.1 文本文件 "),s("a",{class:"header-anchor",href:"#_16-1-文本文件","aria-label":'Permalink to "16.1 文本文件"'},"​")]),s("h3",{id:"_16-1-1-写文件",tabindex:"-1"},[i("16.1.1 写文件 "),s("a",{class:"header-anchor",href:"#_16-1-1-写文件","aria-label":'Permalink to "16.1.1 写文件"'},"​")]),s("p",null,"写文件步骤如下："),s("ol",null,[s("li",null,[s("p",null,"包含头文件"),s("p",null,"#include <fstream>")]),s("li",null,[s("p",null,"创建流对象"),s("p",null,"ofstream ofs;")]),s("li",null,[s("p",null,"打开文件"),s("p",null,'ofs.open("文件路径",打开方式);')]),s("li",null,[s("p",null,"写数据"),s("p",null,'ofs << "写入的数据";')]),s("li",null,[s("p",null,"关闭文件"),s("p",null,"ofs.close();")])]),s("p",null,"文件打开方式："),s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"打开方式"),s("th",null,"解释")])]),s("tbody",null,[s("tr",null,[s("td",null,"ios::in"),s("td",null,"为读文件而打开文件")]),s("tr",null,[s("td",null,"ios::out"),s("td",null,"为写文件而打开文件")]),s("tr",null,[s("td",null,"ios::ate"),s("td",null,"初始位置：文件尾")]),s("tr",null,[s("td",null,"ios::app"),s("td",null,"追加方式写文件")]),s("tr",null,[s("td",null,"ios::trunc"),s("td",null,"如果文件存在先删除，再创建")]),s("tr",null,[s("td",null,"ios::binary"),s("td",null,"二进制方式")])])]),s("p",null,[s("strong",null,"注意"),i(": 文件打开方式可以配合使用，利用|操作符")]),s("p",null,[s("strong",null,"例如"),i(":用二进制方式写文件 "),s("code",null,"ios==binary | ios== out")]),s("p",null,[s("strong",null,"示例：")]),s("div",{class:"language-C++ vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"C++"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#include"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"<fstream>")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," test01"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ofstream ofs;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ofs."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"open"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"test.txt"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ios"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::out);")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ofs "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "姓名：张三"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," <<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," endl;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ofs "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "性别：男"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," <<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," endl;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ofs "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "年龄：18"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," <<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," endl;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ofs."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"close"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," main"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"	test01"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"	system"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"pause"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	return"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])]),s("p",null,"总结："),s("ul",null,[s("li",null,"文件操作必须包含头文件 fstream"),s("li",null,"读文件可以利用 ofstream ，或者fstream类"),s("li",null,"打开文件时候需要指定操作文件的路径，以及打开方式"),s("li",null,"利用<<可以向文件中写数据"),s("li",null,"操作完毕，要关闭文件")]),s("h3",{id:"_16-1-2读文件",tabindex:"-1"},[i("16.1.2读文件 "),s("a",{class:"header-anchor",href:"#_16-1-2读文件","aria-label":'Permalink to "16.1.2读文件"'},"​")]),s("p",null,"读文件与写文件步骤相似，但是读取方式相对于比较多"),s("p",null,"读文件步骤如下："),s("ol",null,[s("li",null,[s("p",null,"包含头文件"),s("p",null,"#include <fstream>")]),s("li",null,[s("p",null,"创建流对象"),s("p",null,"ifstream ifs;")]),s("li",null,[s("p",null,"打开文件并判断文件是否打开成功"),s("p",null,'ifs.open("文件路径",打开方式);')]),s("li",null,[s("p",null,"读数据"),s("p",null,"四种方式读取")]),s("li",null,[s("p",null,"关闭文件"),s("p",null,"ifs.close();")])]),s("p",null,[s("strong",null,"示例：")]),s("div",{class:"language-C++ vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"C++"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#include"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"<fstream>")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#include"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"<string>")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," test01"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ifstream ifs;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ifs."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"open"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"test.txt"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ios"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::in);")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	if"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ifs."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"is_open"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"		cout "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "文件打开失败"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," <<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," endl;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"		return"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//第一种方式")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//char buf[1024] = { 0 };")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//while (ifs >> buf)")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//	cout << buf << endl;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//第二种")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//char buf[1024] = { 0 };")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//while (ifs.getline(buf,sizeof(buf)))")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//	cout << buf << endl;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//第三种")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//string buf;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//while (getline(ifs, buf))")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//	cout << buf << endl;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	char"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," c;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	while"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ((c "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ifs."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"get"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()) "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," EOF)")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"		cout "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," c;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	ifs."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"close"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," main"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"	test01"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"	system"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"pause"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	return"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])]),s("p",null,"总结："),s("ul",null,[s("li",null,"读文件可以利用 ifstream ，或者fstream类"),s("li",null,"利用is_open函数可以判断文件是否打开成功"),s("li",null,"close 关闭文件")]),s("h2",{id:"_16-2-二进制文件",tabindex:"-1"},[i("16.2 二进制文件 "),s("a",{class:"header-anchor",href:"#_16-2-二进制文件","aria-label":'Permalink to "16.2 二进制文件"'},"​")]),s("p",null,"以二进制的方式对文件进行读写操作"),s("p",null,"打开方式要指定为 ==ios::binary==")],-1),k=[h];function e(p,E,r,d,g,u){return a(),n("div",null,k)}const o=l(t,[["render",e]]);export{y as __pageData,o as default};
